import{e as t,g as e,r as n,a,c as i,b as l,d as o,f as s,h as r,i as c,j as f,k as m,l as g,m as u,n as y}from"./_@floating-ui_utils@0.2.2@@floating-ui-Olnmr9Km.js";function d(t,e,n){let{reference:i,floating:s}=t;const r=m(e),c=a(e),f=g(c),u=o(e),y="y"===r,d=i.x+i.width/2-s.width/2,p=i.y+i.height/2-s.height/2,x=i[f]/2-s[f]/2;let w;switch(u){case"top":w={x:d,y:i.y-s.height};break;case"bottom":w={x:d,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:p};break;case"left":w={x:i.x-s.width,y:p};break;default:w={x:i.x,y:i.y}}switch(l(e)){case"start":w[c]-=x*(n&&y?-1:1);break;case"end":w[c]+=x*(n&&y?-1:1)}return w}const p=async(t,e,n)=>{const{placement:a="bottom",strategy:i="absolute",middleware:l=[],platform:o}=n,s=l.filter(Boolean),r=await(null==o.isRTL?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:m}=d(c,a,r),g=a,u={},y=0;for(let p=0;p<s.length;p++){const{name:n,fn:l}=s[p],{x:x,y:w,data:v,reset:h}=await l({x:f,y:m,initialPlacement:a,placement:g,strategy:i,middlewareData:u,rects:c,platform:o,elements:{reference:t,floating:e}});f=null!=x?x:f,m=null!=w?w:m,u={...u,[n]:{...u[n],...v}},h&&y<=50&&(y++,"object"==typeof h&&(h.placement&&(g=h.placement),h.rects&&(c=!0===h.rects?await o.getElementRects({reference:t,floating:e,strategy:i}):h.rects),({x:f,y:m}=d(c,g,r))),p=-1)}return{x:f,y:m,placement:g,strategy:i,middlewareData:u}};async function x(a,i){var l;void 0===i&&(i={});const{x:o,y:s,platform:r,rects:c,elements:f,strategy:m}=a,{boundary:g="clippingAncestors",rootBoundary:u="viewport",elementContext:y="floating",altBoundary:d=!1,padding:p=0}=t(i,a),x=e(p),w=f[d?"floating"===y?"reference":"floating":y],v=n(await r.getClippingRect({element:null==(l=await(null==r.isElement?void 0:r.isElement(w)))||l?w:w.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(f.floating)),boundary:g,rootBoundary:u,strategy:m})),h="floating"===y?{x:o,y:s,width:c.floating.width,height:c.floating.height}:c.reference,b=await(null==r.getOffsetParent?void 0:r.getOffsetParent(f.floating)),R=await(null==r.isElement?void 0:r.isElement(b))&&await(null==r.getScale?void 0:r.getScale(b))||{x:1,y:1},A=n(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:h,offsetParent:b,strategy:m}):h);return{top:(v.top-A.top+x.top)/R.y,bottom:(A.bottom-v.bottom+x.bottom)/R.y,left:(v.left-A.left+x.left)/R.x,right:(A.right-v.right+x.right)/R.x}}const w=n=>({name:"arrow",options:n,async fn(o){const{x:s,y:r,placement:c,rects:f,platform:m,elements:y,middlewareData:d}=o,{element:p,padding:x=0}=t(n,o)||{};if(null==p)return{};const w=e(x),v={x:s,y:r},h=a(c),b=g(h),R=await m.getDimensions(p),A="y"===h,E=A?"top":"left",P=A?"bottom":"right",k=A?"clientHeight":"clientWidth",O=f.reference[b]+f.reference[h]-v[h]-f.floating[b],D=v[h]-f.reference[h],T=await(null==m.getOffsetParent?void 0:m.getOffsetParent(p));let L=T?T[k]:0;L&&await(null==m.isElement?void 0:m.isElement(T))||(L=y.floating[k]||f.floating[b]);const B=O/2-D/2,S=L/2-R[b]/2-1,j=u(w[E],S),C=u(w[P],S),F=j,V=L-R[b]-C,_=L/2-R[b]/2+B,H=i(F,_,V),W=!d.arrow&&null!=l(c)&&_!==H&&f.reference[b]/2-(_<F?j:C)-R[b]/2<0,q=W?_<F?_-F:_-V:0;return{[h]:v[h]+q,data:{[h]:H,centerOffset:_-H-q,...W&&{alignmentOffset:q}},reset:W}}}),v=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(n){var a,i;const{placement:l,middlewareData:m,rects:g,initialPlacement:u,platform:y,elements:d}=n,{mainAxis:p=!0,crossAxis:w=!0,fallbackPlacements:v,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:R=!0,...A}=t(e,n);if(null!=(a=m.arrow)&&a.alignmentOffset)return{};const E=o(l),P=o(u)===u,k=await(null==y.isRTL?void 0:y.isRTL(d.floating)),O=v||(P||!R?[s(u)]:r(u));v||"none"===b||O.push(...c(u,R,b,k));const D=[u,...O],T=await x(n,A),L=[];let B=(null==(i=m.flip)?void 0:i.overflows)||[];if(p&&L.push(T[E]),w){const t=f(l,g,k);L.push(T[t[0]],T[t[1]])}if(B=[...B,{placement:l,overflows:L}],!L.every((t=>t<=0))){var S,j;const t=((null==(S=m.flip)?void 0:S.index)||0)+1,e=D[t];if(e)return{data:{index:t,overflows:B},reset:{placement:e}};let n=null==(j=B.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:j.placement;if(!n)switch(h){case"bestFit":{var C;const t=null==(C=B.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:C[0];t&&(n=t);break}case"initialPlacement":n=u}if(l!==n)return{reset:{placement:n}}}return{}}}};const h=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(n){var a,i;const{x:s,y:r,placement:c,middlewareData:f}=n,g=await async function(e,n){const{placement:a,platform:i,elements:s}=e,r=await(null==i.isRTL?void 0:i.isRTL(s.floating)),c=o(a),f=l(a),g="y"===m(a),u=["left","top"].includes(c)?-1:1,y=r&&g?-1:1,d=t(n,e);let{mainAxis:p,crossAxis:x,alignmentAxis:w}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...d};return f&&"number"==typeof w&&(x="end"===f?-1*w:w),g?{x:x*y,y:p*u}:{x:p*u,y:x*y}}(n,e);return c===(null==(a=f.offset)?void 0:a.placement)&&null!=(i=f.arrow)&&i.alignmentOffset?{}:{x:s+g.x,y:r+g.y,data:{...g,placement:c}}}}},b=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(n){const{x:a,y:l,placement:s}=n,{mainAxis:r=!0,crossAxis:c=!1,limiter:f={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...g}=t(e,n),u={x:a,y:l},d=await x(n,g),p=m(o(s)),w=y(p);let v=u[w],h=u[p];if(r){const t="y"===w?"bottom":"right",e=v+d["y"===w?"top":"left"],n=v-d[t];v=i(e,v,n)}if(c){const t="y"===p?"bottom":"right",e=h+d["y"===p?"top":"left"],n=h-d[t];h=i(e,h,n)}const b=f.fn({...n,[w]:v,[p]:h});return{...b,data:{x:b.x-a,y:b.y-l}}}}};export{w as a,p as c,x as d,v as f,h as o,b as s};
