import{_ as e}from"../index-B0mVr8eT.js";import{o as t,c as i}from"./_@vue_runtime-core@3.4.29@@vue-DDZ-_xUj.js";import{p as s}from"./_@vue_shared@3.4.29@@vue-CbMJA9y8.js";import"./_js-cookie@3.0.5@js-cookie-BXEMiIsG.js";/* empty css                                           */import"./_@vue_runtime-dom@3.4.29@@vue-DFFRdgB0.js";import"./_@vue_reactivity@3.4.29@@vue-Ujt3kFWg.js";import"./_vue-router@4.3.3@vue-router-DcBx9OIa.js";import"./_element-plus@2.7.5@element-plus-CdApmuLJ.js";import"./_lodash-es@4.17.21@lodash-es-Bg5u8xPa.js";import"./_@vueuse_shared@9.13.0@@vueuse-UyGL86A6.js";import"./_@vueuse_core@9.13.0@@vueuse-CEW8sd95.js";import"./_@element-plus_icons-vue@2.3.1@@element-plus-CcmeDuPu.js";import"./_@sxzz_popperjs-es@2.11.7@@sxzz-D3lHDW-0.js";import"./_@ctrl_tinycolor@3.6.1@@ctrl-D2oWfImC.js";import"./_dayjs@1.11.11@dayjs-t441MSVg.js";import"./_async-validator@4.2.5@async-validator-Cuo4gI4y.js";import"./_memoize-one@6.0.0@memoize-one-Ds0C_khL.js";import"./_normalize-wheel-es@1.2.0@normalize-wheel-es-Vn5vHDCm.js";import"./_@floating-ui_dom@1.6.5@@floating-ui-e4X2zpze.js";import"./_@floating-ui_core@1.6.2@@floating-ui-wf05fRq8.js";import"./_@floating-ui_utils@0.2.2@@floating-ui-Olnmr9Km.js";import"./_path-browserify@1.0.1@path-browserify-Ce3DhMlR.js";import"./_pinia@2.1.7@pinia-Cpvd85vB.js";import"./_vue-demi@0.14.8@vue-demi-Dq6ymT-8.js";import"./_@vueuse_core@10.11.0@@vueuse-Djca5FhE.js";import"./_@vueuse_shared@10.11.0@@vueuse-C8Crp58W.js";import"./_nprogress@0.2.0@nprogress-DSZB-OSK.js";const o=e({name:"Editor",props:{value:{type:String,default:""},height:{type:Number,default:null},minHeight:{type:Number,default:null}},data:()=>({Quill:null,currentValue:"",options:{theme:"snow",bounds:document.body,debug:"warn",modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"请输入内容",readOnly:!1}}),computed:{styles(){let e={};return this.minHeight&&(e.minHeight=`${this.minHeight}px`),this.height&&(e.height=`${this.height}px`),e}},watch:{value:{handler(e){e!==this.currentValue&&(this.currentValue=e,this.Quill&&this.Quill.pasteHTML(this.value))},immediate:!0}},mounted(){this.init()},beforeUnmount(){this.Quill=null},methods:{init(){const e=this.$refs.editor;this.Quill=new Quill(e,this.options),this.Quill.pasteHTML(this.currentValue),this.Quill.on("text-change",((e,t,i)=>{const s=this.$refs.editor.children[0].innerHTML,o=this.Quill.getText(),r=this.Quill;this.currentValue=s,this.$emit("input",s),this.$emit("on-change",{html:s,text:o,quill:r})})),this.Quill.on("text-change",((e,t,i)=>{this.$emit("on-text-change",e,t,i)})),this.Quill.on("selection-change",((e,t,i)=>{this.$emit("on-selection-change",e,t,i)})),this.Quill.on("editor-change",((e,...t)=>{this.$emit("on-editor-change",e,...t)}))}}},[["render",function(e,o,r,l,u,n){return t(),i("div",{class:"editor",ref:"editor",style:s(n.styles)},null,4)}]]);export{o as default};
