import{r as e}from"./request-DbwU2Jpl.js";import{a as s}from"./_js-cookie@3.0.5@js-cookie-BXEMiIsG.js";import{_ as o,s as i}from"../index-B0mVr8eT.js";import{b as r,w as a}from"./_@vue_runtime-dom@3.4.29@@vue-DFFRdgB0.js";import{V as l,o as t,c as n,a as m,i as u,H as d,F as p,L as g,K as c}from"./_@vue_runtime-core@3.4.29@@vue-DDZ-_xUj.js";import{L as _}from"./_@vue_shared@3.4.29@@vue-CbMJA9y8.js";import"./_axios@1.7.2@axios-CURSphCx.js";import"./_element-plus@2.7.5@element-plus-CdApmuLJ.js";import"./_@vue_reactivity@3.4.29@@vue-Ujt3kFWg.js";import"./_lodash-es@4.17.21@lodash-es-Bg5u8xPa.js";import"./_@vueuse_shared@9.13.0@@vueuse-UyGL86A6.js";import"./_@vueuse_core@9.13.0@@vueuse-CEW8sd95.js";import"./_@element-plus_icons-vue@2.3.1@@element-plus-CcmeDuPu.js";import"./_@sxzz_popperjs-es@2.11.7@@sxzz-D3lHDW-0.js";import"./_@ctrl_tinycolor@3.6.1@@ctrl-D2oWfImC.js";import"./_dayjs@1.11.11@dayjs-t441MSVg.js";import"./_async-validator@4.2.5@async-validator-Cuo4gI4y.js";import"./_memoize-one@6.0.0@memoize-one-Ds0C_khL.js";import"./_normalize-wheel-es@1.2.0@normalize-wheel-es-Vn5vHDCm.js";import"./_@floating-ui_dom@1.6.5@@floating-ui-e4X2zpze.js";import"./_@floating-ui_core@1.6.2@@floating-ui-wf05fRq8.js";import"./_@floating-ui_utils@0.2.2@@floating-ui-Olnmr9Km.js";/* empty css                                           */import"./_vue-router@4.3.3@vue-router-DcBx9OIa.js";import"./_path-browserify@1.0.1@path-browserify-Ce3DhMlR.js";import"./_pinia@2.1.7@pinia-Cpvd85vB.js";import"./_vue-demi@0.14.8@vue-demi-Dq6ymT-8.js";import"./_@vueuse_core@10.11.0@@vueuse-Djca5FhE.js";import"./_@vueuse_shared@10.11.0@@vueuse-C8Crp58W.js";import"./_nprogress@0.2.0@nprogress-DSZB-OSK.js";const{get:f,post:v,put:h,del:j}=e,y={class:"loginPage ac"},w={class:"login"},b={class:"loginHead"},F=["src"],M={class:"loginTitle ml5",style:{"vertical-align":"middle"}},x={class:"loginSlogan mt20"},k=["innerHTML"],L={class:"fxbw g-margin-b"},z={key:0},C={key:1},V={class:"copyright"},S=["innerHTML"];const T=o({name:"Login",data:()=>({loginType:"username",ispassword:!0,loginForm:{username:"iyque",password:"123456",rememberMe:!1,code:"",uuid:""},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}],code:[{required:!0,trigger:"change",message:"验证码不能为空"}]},authLink:"",loading:!1,redirect:void 0,dialogVisible:!0,isDemonstrationLogin:!1}),watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created(){this.getCookie()},methods:{getCookie(){const e=s.get("username"),o=s.get("password"),i=s.get("rememberMe");this.loginForm={username:void 0===e?this.loginForm.username:e,password:void 0===o?this.loginForm.password:o,rememberMe:void 0!==i&&Boolean(i)}},login(){this.$refs.loginForm.validate((e=>{if(e){this.loading=!0,this.loginForm.rememberMe?(s.set("username",this.loginForm.username,{expires:30}),s.set("password",this.loginForm.password,{expires:30}),s.set("rememberMe",this.loginForm.rememberMe,{expires:30})):(s.remove("username"),s.remove("password"),s.remove("rememberMe"));let e=JSON.parse(JSON.stringify(this.loginForm));e.password=this.loginForm.password,(o=e,v("/iYqueSys/login",o)).then((({data:e})=>{i(e.token),this.$router.push(this.redirect||window.sysConfig.BASE_URL)})).catch((()=>{this.loading=!1}))}var o}))}}},[["render",function(e,s,o,i,f,v){const h=l("svg-icon"),j=l("el-input"),T=l("el-form-item"),q=l("el-checkbox"),H=l("el-button"),O=l("el-form");return t(),n("div",y,[m("div",w,[m("div",b,[m("img",{class:"logo",style:{"vertical-align":"middle"},src:e.sysConfig.LOGO,alt:""},null,8,F),m("span",M,_(e.sysConfig.SYSTEM_NAME),1),m("div",x,[m("span",{innerHTML:e.sysConfig.SYSTEM_SLOGAN},null,8,k)])]),u(O,{ref:"loginForm",size:"large",model:f.loginForm,rules:f.loginRules,class:"login-form"},{default:d((()=>["username"===f.loginType?(t(),n(p,{key:0},[u(T,{prop:"username"},{default:d((()=>[u(j,{modelValue:f.loginForm.username,"onUpdate:modelValue":s[0]||(s[0]=e=>f.loginForm.username=e),modelModifiers:{trim:!0},type:"text","auto-complete":"off",placeholder:"账号"},{prefix:d((()=>[u(h,{icon:"user",class:"input-icon"})])),_:1},8,["modelValue"])])),_:1}),u(T,{prop:"password"},{default:d((()=>[u(j,{modelValue:f.loginForm.password,"onUpdate:modelValue":s[2]||(s[2]=e=>f.loginForm.password=e),modelModifiers:{trim:!0},type:f.ispassword?"password":"text","auto-complete":"off",placeholder:"密码",onKeyup:r(v.login,["enter"])},{prefix:d((()=>[u(h,{icon:"password",class:"input-icon"})])),suffix:d((()=>[u(h,{icon:f.ispassword?"eye":"eye-open",class:"input-icon cp",onClick:s[1]||(s[1]=e=>f.ispassword=!f.ispassword)},null,8,["icon"])])),_:1},8,["modelValue","type","onKeyup"])])),_:1}),m("div",L,[u(q,{class:"fr",modelValue:f.loginForm.rememberMe,"onUpdate:modelValue":s[3]||(s[3]=e=>f.loginForm.rememberMe=e)},{default:d((()=>[g("记住我")])),_:1},8,["modelValue"])]),u(T,null,{default:d((()=>[u(H,{loading:f.loading,type:"primary",style:{width:"100%"},onClick:a(v.login,["prevent"])},{default:d((()=>[f.loading?(t(),n("span",C,"登 录 中...")):(t(),n("span",z,"登 录"))])),_:1},8,["loading","onClick"])])),_:1})],64)):c("",!0)])),_:1},8,["model","rules"]),m("div",V,[m("span",{innerHTML:e.sysConfig.COPYRIGHT},null,8,S)])])])}],["__scopeId","data-v-92bfc517"]]);export{T as default};
